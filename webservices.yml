# This script is to be run on the actual host machine (i.e. no Vagrant BS here.)
# It installs/configures Apache and Docker, then sets up and turns on all the services one-by-one
# If you don't want a specific service just comment out the appropriate include_tasks.yml file

---
- hosts: localhost
  vars:
    username: enbrain

  tasks:
    - name: apt-get update
      apt:
        update_cache: yes
        cache_valid_time: 3600
      become: yes

    - name: apt-get install apache2 and docker
      apt:
        name: "{{ item }}"
      with_items:
      - apache2
      become: yes

    - name: a2enmod install apache modules
      apache2_module:
        state: present
        name: "{{ item }}"
      with_items:
      - proxy
      - proxy_http
      become: yes
# do I have to restart apache2 here to enable the modules???
# if so, command would be "sudo service apache2 restart"

include_tasks: rocketchat.yml

# include_tasks: maps.yml